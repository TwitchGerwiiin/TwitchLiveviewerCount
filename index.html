<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="UTF-8">
  <title>Twitchliveviewercount by Rookev</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
  <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
</head>
<body>
  <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
  <script type="text/javascript">
  var username = "YourTwitchUsername";

  </script>
  <script type="text/javascript">
    // JMR's Viewer Counter
    $(document).ready(function() {
      loadViewers();
      function loadViewers(){
        $.getJSON('https://api.twitch.tv/kraken/streams/'+encodeURIComponent(username)+"?callback=?", function(data) {

          if(data["stream"]!=null){
            if(data['streams']){
              $('#viewer_counter').html("Channel offline.");
            }else{
              var viewer_count = data['stream']['viewers'];
              $('#viewer_counter').html(viewer_count);
              console.log(data);
            }
          }else{
            $('#viewer_counter').html("Channel offline.");
          }
        });
      }
      setInterval(function(){
        loadViewers();
      }, 10000);
    });
  </script>
  <div id="viewer_counter">Loading...</div>
</body>
</html>
